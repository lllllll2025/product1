import{r as e,a as t,R as s}from"./vendor-BXk_ma1u.js";import{P as a,B as r,A as n,T as i,R as l,H as o}from"./icons-C0l7pWJL.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var c={exports:{}},d={},m=e,x=Symbol.for("react.element"),u=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,f=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function v(e,t,s){var a,r={},n=null,i=null;for(a in void 0!==s&&(n=""+s),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(i=t.ref),t)h.call(t,a)&&!p.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:x,type:e,key:n,ref:i,props:r,_owner:f.current}}d.Fragment=u,d.jsx=v,d.jsxs=v,c.exports=d;var g=c.exports,j={},b=t;j.createRoot=b.createRoot,j.hydrateRoot=b.hydrateRoot;const y={truth:{clean:["你最怕什么动物？","你小时候最尴尬的事情是什么？","你最喜欢的卡通人物是谁？","你觉得自己最可爱的地方是哪里？","你最想去哪个国家旅行？","你最不喜欢吃什么食物？","你觉得自己像什么动物？","你小时候的梦想是什么？","你最怕看什么类型的电影？","你觉得自己的超能力会是什么？"],normal:["你曾经暗恋过谁？","你做过最后悔的事情是什么？","你最想对某个人说什么话？","你有什么不为人知的癖好？","你最羡慕在座的哪个人？","你觉得自己最大的缺点是什么？","你谈过几次恋爱？","你最害怕失去什么？","你做过最疯狂的事情是什么？","你最讨厌别人说你什么？"],spicy:["你有没有发过不该发的照片？","你做过最羞耻的事情是什么？","你最想和谁共度一夜？","你偷偷喜欢过朋友的对象吗？","你最不想让父母知道的事情是什么？","你有没有在不合适的地方做过亲密行为？","你最刺激的经历是什么？","你会为了钱做什么疯狂的事？","你最想尝试但不敢尝试的事情是什么？","你有没有同时喜欢过两个人？"]},dare:{clean:["做十个俯卧撑","学一种动物叫三声","跳一段尴尬的舞蹈","用屁股写自己的名字","模仿一个卡通人物","唱一首儿歌","做一个搞笑的表情保持30秒","用你的脚趾夹起一个东西","模仿你妈妈说话的样子","做一个超级英雄的动作"],normal:["给左边的人一个拥抱","亲吻右边人的脸颊","模仿你最讨厌的明星","用最性感的声音说一句话","做一个让人脸红的动作","和异性对视30秒不能笑","用你的舌头舔你的鼻子","模仿你前任的一个习惯","给你暗恋的人发一条暧昧短信","表演一个浪漫的求婚场景"],spicy:["和异性拥抱一分钟","模仿成人电影里的一个场景","用最诱惑的方式吃一根香蕉","脱掉一件衣服","给某人来一个法式湿吻","模仿你在床上的表情","和异性玩真心话大冒险私人版","用身体摆出一个暧昧的姿势","描述你最疯狂的性幻想","和某人在黑暗中独处五分钟"]}},N=()=>{const[t,s]=e.useState("home"),[c,d]=e.useState("normal"),[m,x]=e.useState([]),[u,h]=e.useState(null),[f,p]=e.useState(null),[v,j]=e.useState([]),[b,N]=e.useState(!1),[w,k]=e.useState(0),[S,_]=e.useState(!1),R=e.useRef(null);e.useEffect(()=>{const e=localStorage.getItem("party-game-favorites");e&&j(JSON.parse(e)),"vibrate"in navigator&&_(!0)},[]);const O=e=>{j(e),localStorage.setItem("party-game-favorites",JSON.stringify(e))},C=(e=100)=>{S&&"vibrate"in navigator&&navigator.vibrate(e)},E=e=>{if(e.preventDefault(),b)return;const t=R.current.getBoundingClientRect(),s=Array.from(e.touches).map((e,s)=>({id:s,x:e.clientX-t.left,y:e.clientY-t.top,timestamp:Date.now()}));if(x(s),C(50),s.length>=2){k(5);const e=setInterval(()=>{k(t=>t<=1?(clearInterval(e),I(s),0):(C(50),t-1))},1e3)}},M=e=>{if(e.preventDefault(),b)return;const t=R.current.getBoundingClientRect(),s=Array.from(e.touches).map((e,s)=>({id:s,x:e.clientX-t.left,y:e.clientY-t.top,timestamp:Date.now()}));x(s),s.length<2&&k(0)},I=e=>{if(0===e.length)return;N(!0),C([100,50,100]);const t=e[Math.floor(Math.random()*e.length)];h(t),setTimeout(()=>{D(),s("question"),N(!1),x([]),h(null)},2e3)},D=()=>{const e=Object.keys(y),t=e[Math.floor(Math.random()*e.length)],s=y[t][c],a=s[Math.floor(Math.random()*s.length)];p({type:t,text:a,difficulty:c})},P=()=>{if(f&&!v.find(e=>e.text===f.text)){const e=[...v,f];O(e),C(100)}},L=()=>g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6 safe-area-inset",children:g.jsxs("div",{className:"max-w-md mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("div",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:"真心话大冒险"}),g.jsx("div",{className:"text-lg text-gray-300",children:"今晚谁会中招？放上手指试试看！"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"card",children:[g.jsx("label",{className:"block text-sm font-medium mb-3",children:"选择游戏难度"}),g.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"w-full p-3 bg-white/20 border border-white/30 rounded-xl text-white",children:[g.jsx("option",{value:"clean",className:"text-black",children:"清水 - 适合所有人"}),g.jsx("option",{value:"normal",className:"text-black",children:"普通 - 稍微刺激"}),g.jsx("option",{value:"spicy",className:"text-black",children:"刺激 - 大胆挑战"})]})]}),g.jsxs("button",{onClick:()=>{C(100),s("game")},className:"w-full btn-primary flex items-center justify-center gap-2",children:[g.jsx(a,{size:20}),"开始游戏"]}),g.jsxs("button",{onClick:()=>{C(100),s("favorites")},className:"w-full btn-secondary flex items-center justify-center gap-2",children:[g.jsx(r,{size:20}),"查看我的收藏 (",v.length,")"]})]})]})}),z=()=>g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white overscroll-none",children:[g.jsx("div",{className:"p-4 safe-area-inset",children:g.jsxs("button",{onClick:()=>{C(100),s("home")},className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[g.jsx(n,{size:20}),"返回"]})}),g.jsxs("div",{ref:R,className:"relative h-screen w-full overflow-hidden",onTouchStart:E,onTouchEnd:M,style:{touchAction:"none"},children:[g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-2xl font-bold mb-4",children:m.length<2?"请至少2人将手指放在屏幕上":w>0?`${w}秒后选择...`:"正在选择..."}),g.jsxs("div",{className:"text-gray-300",children:["当前检测到 ",m.length," 个手指"]})]})}),m.map(e=>g.jsx("div",{className:"touch-point pulse-glow",style:{left:e.x,top:e.y}},e.id)),u&&g.jsx("div",{className:"selected-touch bounce-glow",style:{left:u.x,top:u.y}}),m.map(e=>g.jsx("div",{className:"absolute pointer-events-none",style:{left:e.x,top:e.y,transform:"translate(-50%, -50%)"},children:[...Array(8)].map((e,t)=>g.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full animate-ping",style:{left:30*Math.cos(45*t*Math.PI/180),top:30*Math.sin(45*t*Math.PI/180),animationDelay:.1*t+"s"}},t))},`particle-${e.id}`))]})]}),T=()=>g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6 safe-area-inset",children:g.jsxs("div",{className:"max-w-md mx-auto",children:[g.jsx("div",{className:"mb-6",children:g.jsxs("button",{onClick:()=>{C(100),s("home")},className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[g.jsx(n,{size:20}),"返回首页"]})}),f&&g.jsxs("div",{className:"card mb-8 animate-fade-in",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"truth"===f.type?"真心话":"大冒险"}),g.jsx("div",{className:"text-2xl font-bold",children:f.text})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("button",{onClick:()=>{C(100),D()},className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(l,{size:18}),"换一个"]}),g.jsxs("button",{onClick:P,className:"flex-1 bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(o,{size:18}),"收藏"]})]})]})]})}),A=()=>g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6 safe-area-inset",children:g.jsxs("div",{className:"max-w-md mx-auto",children:[g.jsx("div",{className:"mb-6",children:g.jsxs("button",{onClick:()=>{C(100),s("home")},className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[g.jsx(n,{size:20}),"返回首页"]})}),g.jsx("div",{className:"text-2xl font-bold mb-6 text-center",children:"我的收藏"}),0===v.length?g.jsxs("div",{className:"text-center text-gray-300 py-12",children:[g.jsx("div",{className:"text-lg mb-4",children:"你还没有收藏任何题目～"}),g.jsx("div",{children:"快去玩一局吧！"})]}):g.jsx("div",{className:"space-y-4",children:v.map((e,t)=>g.jsxs("div",{className:"card animate-slide-up",style:{animationDelay:.1*t+"s"},children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{className:"text-sm text-gray-300",children:["truth"===e.type?"真心话":"大冒险"," - ",e.difficulty]}),g.jsx("button",{onClick:()=>(e=>{const t=v.filter(t=>t.text!==e);O(t),C(100)})(e.text),className:"text-red-400 hover:text-red-300 transition-colors active:scale-95",children:g.jsx(i,{size:16})})]}),g.jsx("div",{className:"text-lg",children:e.text})]},t))})]})});return g.jsx("div",{className:"app overscroll-none",children:(()=>{switch(t){case"home":default:return g.jsx(L,{});case"game":return g.jsx(z,{});case"question":return g.jsx(T,{});case"favorites":return g.jsx(A,{})}})()})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(console.log)});let w=0;document.addEventListener("touchend",function(e){const t=(new Date).getTime();t-w<=300&&e.preventDefault(),w=t},!1),j.createRoot(document.getElementById("root")).render(g.jsx(s.StrictMode,{children:g.jsx(N,{})}));
